<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Places - Interactive3D</title>

<style>
  body {
    background: #d7d7d7;
    font-family: Verdana, Arial, sans-serif;
    margin: 0;
    padding: 0;
  }

  /* Classic 2004 Roblox blue header */
  #header {
    background: #0d4ea6;
    color: white;
    padding: 12px;
    font-size: 22px;
    font-weight: bold;
    border-bottom: 3px solid #072f63;
  }

  #content {
    padding: 20px;
  }

  .placeBox {
    background: white;
    border: 2px solid #b5b5b5;
    padding: 10px;
    margin-bottom: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .placeName {
    font-size: 16px;
    font-weight: bold;
    color: #333;
  }

  .playBtn {
    background: #0d4ea6;
    color: white;
    border: 2px solid #072f63;
    padding: 5px 12px;
    font-size: 14px;
    cursor: pointer;
  }

  .playBtn:hover {
    background: #0b3f85;
  }
</style>
</head>
<body>

<div id="header">Places</div>

<div id="content">
  <h2>Available Places</h2>
  <div id="list">Loadingâ€¦</div>
</div>

<script>
// GitHub API endpoint for your repo root
const apiURL = "https://api.github.com/repos/yeahbuildsstuff/placeservice/contents/";

async function loadFiles() {
  const list = document.getElementById("list");

  try {
    const response = await fetch(apiURL);
    const files = await response.json();

    list.innerHTML = ""; // clear loading text

    files.forEach(file => {
      if (file.name.endsWith(".html")) {

        const nameWithoutExt = file.name.replace(".html", "");

        const div = document.createElement("div");
        div.className = "placeBox";

        div.innerHTML = `
          <span class="placeName">${nameWithoutExt}</span>
          <button class="playBtn" onclick="play('${file.name}')">Play</button>
        `;

        list.appendChild(div);
      }
    });

  } catch (err) {
    list.innerHTML = "Error loading file list.";
    console.error(err);
  }
}

function play(filename) {
  // Redirect to GitHub Pages version
  window.location.href = `https://yeahbuildsstuff.github.io/placeservice/${filename}`;
}

loadFiles();
</script>

</body>
</html>
